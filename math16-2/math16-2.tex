\documentclass{article}
\usepackage{tikz,amsmath,siunitx}
\usetikzlibrary{arrows,decorations,backgrounds,patterns,matrix,shapes,fit,calc,shadows,plotmarks}
\usepackage[graphics,tightpage,active]{preview}
\usepackage[outline]{contour}
\PreviewEnvironment{tikzpicture}
\PreviewEnvironment{equation}
\PreviewEnvironment{equation*}
\newlength{\imagewidth}
\newlength{\imagescale}
\pagestyle{empty}
\thispagestyle{empty}
\begin{document}
\begin{tikzpicture}[background rectangle/.style={fill=white}]
    \coordinate (A) at (-2,3);
    \coordinate (A') at (-2,-3);
    \coordinate (B) at (2,3);
    \coordinate (B') at (2,-3);
    % grey range
    \fill[fill=gray!30!white,fill opacity=0.5] plot[smooth] coordinates{(A)(-1,3.1)(0,3.4)(0.5,3.5)(1.2,3.2)(B)} --
    plot[smooth] coordinates{(B')(1.2,-3.2)(0.5,-3.5)(0,-3.4)(-1,-3.1)(A')} -- cycle;
    \begin{scope}
      \clip(-2,3) rectangle (-3,-3);
      \draw[draw=none,fill=gray!30!white,fill opacity=0.5] (-2,0) ellipse (1 and 3);
    \end{scope}
    \draw[draw=none,fill=white] (2,0) ellipse (1 and 3);
    % curve
    \draw plot[smooth] coordinates{(A)(-1,3.1)(0,3.4)(0.5,3.5)(1.2,3.2)(B)};
    \draw plot[smooth] coordinates{(B')(1.2,-3.2)(0.5,-3.5)(0,-3.4)(-1,-3.1)(A')};
    \begin{scope}
      \clip(-2,3) rectangle (0,-3);
      \draw[dashed] (-2,0) ellipse (1 and 3);
    \end{scope}
    \begin{scope}
      \clip(-2,3) rectangle (-3,-3);
      \draw (-2,0) ellipse (1 and 3);
    \end{scope}
    \draw[draw,fill=white] (2,0) ellipse (1 and 3);
    % coordinate
    \draw[thick] (-4,0)--(-3,0);
    \draw[dashed,thick] (-3,0)--(2,0);
    \draw[->,thick] (2,0)--(4,0); % x-axis
    \node[anchor=north] at (4,0) {\Large $x$};
    \draw[thick] (0,-4)--(0,-3.4);
    \draw[dashed,thick] (0,-3.4)--(0,3.4);
    \draw[->,thick] (0,3.4)--(0,4); % y-axis
    \node[anchor=west] at (0,4) {\Large $y$};
    % A(-1,2)
    \fill (A) circle (0.5mm) ;
    \node[anchor=south] at (A) {\Large $A$};
    % B(1,2)
    \fill (B) circle (0.5mm);
    \node[anchor=south] at (B) {\Large $B$};
    \node (S) at($(B)+(-1.5,-1)$) {\contour{white}{\Large $S$}};
\end{tikzpicture}
\end{document}
